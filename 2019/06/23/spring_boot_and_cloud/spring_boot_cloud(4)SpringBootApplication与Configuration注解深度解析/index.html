<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 3.9.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">
  <meta http-equiv="Cache-Control" content="no-transform">
  <meta http-equiv="Cache-Control" content="no-siteapp">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">
  <link rel="stylesheet" href="/lib/pace/pace-theme-minimal.min.css">
  <script src="/lib/pace/pace.min.js"></script>

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"ceaser.wang","root":"/","scheme":"Muse","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":true,"show_result":true,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":true},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":true,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":true,"preload":true},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},"path":"search.xml"};
  </script>

  <meta name="description" content="@SpringBootApplication有三个注解组成：">
<meta name="keywords" content="SpringBootApplication">
<meta property="og:type" content="article">
<meta property="og:title" content="spring_boot_cloud(4)SpringBootApplication与Configuration注解深度解析">
<meta property="og:url" content="https://ceaser.wang/2019/06/23/spring_boot_and_cloud/spring_boot_cloud(4)SpringBootApplication与Configuration注解深度解析/index.html">
<meta property="og:site_name" content="南贺神社">
<meta property="og:description" content="@SpringBootApplication有三个注解组成：">
<meta property="og:locale" content="en">
<meta property="og:updated_time" content="2021-05-30T04:23:30.541Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="spring_boot_cloud(4)SpringBootApplication与Configuration注解深度解析">
<meta name="twitter:description" content="@SpringBootApplication有三个注解组成：">

<link rel="canonical" href="https://ceaser.wang/2019/06/23/spring_boot_and_cloud/spring_boot_cloud(4)SpringBootApplication与Configuration注解深度解析/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : true,
    lang   : 'en'
  };
</script>

  <title>spring_boot_cloud(4)SpringBootApplication与Configuration注解深度解析 | 南贺神社</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">南贺神社</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
      <p class="site-subtitle" itemprop="description">你写程序有写诗一样的感觉吗?</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>Home</a>

  </li>
        <li class="menu-item menu-item-about">

    <a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>About</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>Tags<span class="badge">205</span></a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>Categories<span class="badge">24</span></a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>Archives<span class="badge">211</span></a>

  </li>
        <li class="menu-item menu-item-0xcc">

    <a href="/0xcc/" rel="section"><i class="fa fa-heartbeat fa-fw"></i>0XCC</a>

  </li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>Search
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup">
        <div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off"
           placeholder="Searching..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div id="search-result">
  <div id="no-result">
    <i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>
  </div>
</div>

    </div>
  </div>

</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>
  <div class="reading-progress-bar"></div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content post posts-expand">
            

    
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://ceaser.wang/2019/06/23/spring_boot_and_cloud/spring_boot_cloud(4)SpringBootApplication与Configuration注解深度解析/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/../0xcc/index/Uchiha.jpg">
      <meta itemprop="name" content="CeaserWang">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="南贺神社">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          spring_boot_cloud(4)SpringBootApplication与Configuration注解深度解析
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2019-06-23 21:03:32" itemprop="dateCreated datePublished" datetime="2019-06-23T21:03:32+00:00">2019-06-23</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2021-05-30 04:23:30" itemprop="dateModified" datetime="2021-05-30T04:23:30+00:00">2021-05-30</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/spring-boot-cloud/" itemprop="url" rel="index"><span itemprop="name">spring_boot_cloud</span></a>
                </span>
            </span>

          
            <span id="/2019/06/23/spring_boot_and_cloud/spring_boot_cloud(4)SpringBootApplication与Configuration注解深度解析/" class="post-meta-item leancloud_visitors" data-flag-title="spring_boot_cloud(4)SpringBootApplication与Configuration注解深度解析" title="Views">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">Views: </span>
              <span class="leancloud-visitors-count"></span>
            </span>
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Valine: </span>
    
    <a title="valine" href="/2019/06/23/spring_boot_and_cloud/spring_boot_cloud(4)SpringBootApplication与Configuration注解深度解析/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/2019/06/23/spring_boot_and_cloud/spring_boot_cloud(4)SpringBootApplication与Configuration注解深度解析/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <h3 id="SpringBootApplication"><a href="#SpringBootApplication" class="headerlink" title="@SpringBootApplication"></a>@SpringBootApplication</h3><p>有三个注解组成：</p>
<a id="more"></a>
<p>@SpringBootConfiguration<br>@EnableAutoConfiguration<br>@ComponentScan</p>
<h4 id="SpringBootConfiguration"><a href="#SpringBootConfiguration" class="headerlink" title="@SpringBootConfiguration"></a>@SpringBootConfiguration</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">@Target(&#123;ElementType.TYPE&#125;)</span><br><span class="line">@Retention(RetentionPolicy.RUNTIME)</span><br><span class="line">@Documented</span><br><span class="line">@Configuration</span><br><span class="line">public @interface SpringBootConfiguration &#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>首先@SpringBootConfiguration是一个@Configuration，@SpringBootConfiguration可以作为@Configuration的替换方法，应用的配置会自动找到并且配置，应用的项目应该只使用一次在@SpringBootApplication里边。<br><code>@Configuration</code>是 context 包里边，表示一个类声明了多个bean和方法，用来生成bean。<br>使用事例：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">@Configuration</span><br><span class="line">   public class AppConfig &#123;</span><br><span class="line"></span><br><span class="line">       @Bean</span><br><span class="line">       public MyBean myBean() &#123;</span><br><span class="line">           // instantiate, configure and return bean ...</span><br><span class="line">       &#125;</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure>

<h3 id="引导-Configuration-类："><a href="#引导-Configuration-类：" class="headerlink" title="引导 @Configuration 类："></a>引导 @Configuration 类：</h3><p>@Configuration通常通过AnnotationConfigApplicationContext 或者 具有web功能的contextAnnotationConfigWebApplicationContext引导，下面是一个实例：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">AnnotationConfigApplicationContext ctx = new AnnotationConfigApplicationContext();</span><br><span class="line"> ctx.register(AppConfig.class);</span><br><span class="line"> ctx.refresh();</span><br><span class="line"> MyBean myBean = ctx.getBean(MyBean.class);</span><br><span class="line"> // use myBean ...</span><br></pre></td></tr></table></figure>

<p>查看AnnotationConfigApplicationContext、AnnotationConfigWebApplicationContext的官方文档获得更多信息。</p>
<h4 id="通过XML的方式："><a href="#通过XML的方式：" class="headerlink" title="通过XML的方式："></a>通过XML的方式：</h4><beans>
     <context:annotation-config>
     <bean class="com.acme.AppConfig">
</bean></context:annotation-config></beans>



<h4 id="通过组件扫描的方式："><a href="#通过组件扫描的方式：" class="headerlink" title="通过组件扫描的方式："></a>通过组件扫描的方式：</h4><p> @Configuration是一种元注解，可以通过组件扫描。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">@Configuration</span><br><span class="line">public class AppConfig &#123;</span><br><span class="line"></span><br><span class="line">       private final SomeBean someBean;</span><br><span class="line"></span><br><span class="line">       public AppConfig(SomeBean someBean) &#123;</span><br><span class="line">           this.someBean = someBean;</span><br><span class="line">       &#125;</span><br><span class="line"></span><br><span class="line">       // @Bean definition using &quot;SomeBean&quot;</span><br><span class="line"></span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure>

<h4 id="通过ComponentScan的方式："><a href="#通过ComponentScan的方式：" class="headerlink" title="通过ComponentScan的方式："></a>通过ComponentScan的方式：</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">@Configuration</span><br><span class="line">@ComponentScan(&quot;com.acme.app.services&quot;)</span><br><span class="line">public class AppConfig &#123;</span><br><span class="line">    // various @Bean definitions ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="通过环境API："><a href="#通过环境API：" class="headerlink" title="通过环境API："></a>通过环境API：</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">@Configuration</span><br><span class="line">@PropertySource(&quot;classpath:/com/acme/app.properties&quot;)</span><br><span class="line">public class AppConfig &#123;</span><br><span class="line"></span><br><span class="line">    @Inject Environment env;</span><br><span class="line"></span><br><span class="line">    @Bean</span><br><span class="line">    public MyBean myBean() &#123;</span><br><span class="line">        return new MyBean(env.getProperty(&quot;bean.name&quot;));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="通过-Value-annotation"><a href="#通过-Value-annotation" class="headerlink" title="通过 @Value annotation"></a>通过 @Value annotation</h4><p>Externalized values may be injected into <code>@Configuration</code> classes using the <code>@Value</code> annotation:<br>   @Configuration<br>   @PropertySource(“classpath:/com/acme/app.properties”)<br>   public class AppConfig {</p>
<pre><code>@Value(&quot;${bean.name}&quot;) String beanName;

@Bean
public MyBean myBean() {
    return new MyBean(beanName);
}</code></pre><p>   }</p>
<h4 id="组合Configuration"><a href="#组合Configuration" class="headerlink" title="组合Configuration"></a>组合Configuration</h4><p>使用@import对配置类进行组合。相当于<import>标签，@Configuration是被spring容器进行管理的，@Configuration类也会被注入(通过构造器)</import></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">@Configuration</span><br><span class="line">public class DatabaseConfig &#123;</span><br><span class="line"></span><br><span class="line">       @Bean</span><br><span class="line">       public DataSource dataSource() &#123;</span><br><span class="line">           // instantiate, configure and return DataSource</span><br><span class="line">       &#125;</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   @Configuration</span><br><span class="line">   @Import(DatabaseConfig.class)</span><br><span class="line">   public class AppConfig &#123;</span><br><span class="line"></span><br><span class="line">       private final DatabaseConfig dataConfig;</span><br><span class="line"></span><br><span class="line">       public AppConfig(DatabaseConfig dataConfig) &#123;</span><br><span class="line">           this.dataConfig = dataConfig;</span><br><span class="line">       &#125;</span><br><span class="line"></span><br><span class="line">       @Bean</span><br><span class="line">       public MyBean myBean() &#123;</span><br><span class="line">           // reference the dataSource() bean method</span><br><span class="line">           return new MyBean(dataConfig.dataSource());</span><br><span class="line">       &#125;</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure>

<p>这样不管是AppConfig还是被注入的DatabaseConfig都可以注册的AppConfig来从spring context引导启动：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">new AnnotationConfigApplicationContext(AppConfig.class);</span><br></pre></td></tr></table></figure>

<h4 id="使用-Profile-注解"><a href="#使用-Profile-注解" class="headerlink" title="使用@Profile 注解"></a>使用@Profile 注解</h4><p><code>@Configuration</code> 可以被@Profile 注解标记</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">@Profile(&quot;development&quot;)</span><br><span class="line">@Configuration</span><br><span class="line">public class EmbeddedDatabaseConfig &#123;</span><br><span class="line"></span><br><span class="line">    @Bean</span><br><span class="line">    public DataSource dataSource() &#123;</span><br><span class="line">        // instantiate, configure and return embedded DataSource</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">@Profile(&quot;production&quot;)</span><br><span class="line">@Configuration</span><br><span class="line">public class ProductionDatabaseConfig &#123;</span><br><span class="line"></span><br><span class="line">    @Bean</span><br><span class="line">    public DataSource dataSource() &#123;</span><br><span class="line">        // instantiate, configure and return production DataSource</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>或者</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">@Configuration</span><br><span class="line">public class ProfileDatabaseConfig &#123;</span><br><span class="line"></span><br><span class="line">    @Bean(&quot;dataSource&quot;)</span><br><span class="line">    @Profile(&quot;development&quot;)</span><br><span class="line">    public DataSource embeddedDatabase() &#123; ... &#125;</span><br><span class="line"></span><br><span class="line">    @Bean(&quot;dataSource&quot;)</span><br><span class="line">    @Profile(&quot;production&quot;)</span><br><span class="line">    public DataSource productionDatabase() &#123; ... &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>这种方式如果用apollo的中心化，Profile是用不上的，如果是spring cloud可能还能用到。</p>
<h4 id="使用-ImportResource-annotation-加载spring-xml配置文件"><a href="#使用-ImportResource-annotation-加载spring-xml配置文件" class="headerlink" title="使用 @ImportResource annotation 加载spring xml配置文件"></a>使用 @ImportResource annotation 加载spring xml配置文件</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">@Configuration</span><br><span class="line"> @ImportResource(&quot;classpath:/com/acme/database-config.xml&quot;)</span><br><span class="line"> public class AppConfig &#123;</span><br><span class="line"></span><br><span class="line">     @Inject DataSource dataSource; // from XML</span><br><span class="line"></span><br><span class="line">     @Bean</span><br><span class="line">     public MyBean myBean() &#123;</span><br><span class="line">         // inject the XML-defined dataSource bean</span><br><span class="line">         return new MyBean(this.dataSource);</span><br><span class="line">     &#125;</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure>

<h4 id="嵌套的-Configuration-classes"><a href="#嵌套的-Configuration-classes" class="headerlink" title="嵌套的@Configuration classes"></a>嵌套的@Configuration classes</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">@Configuration</span><br><span class="line">   public class AppConfig &#123;</span><br><span class="line"></span><br><span class="line">       @Inject DataSource dataSource;</span><br><span class="line"></span><br><span class="line">       @Bean</span><br><span class="line">       public MyBean myBean() &#123;</span><br><span class="line">           return new MyBean(dataSource);</span><br><span class="line">       &#125;</span><br><span class="line"></span><br><span class="line">       @Configuration</span><br><span class="line">       static class DatabaseConfig &#123;</span><br><span class="line">           @Bean</span><br><span class="line">           DataSource dataSource() &#123;</span><br><span class="line">               return new EmbeddedDatabaseBuilder().build();</span><br><span class="line">           &#125;</span><br><span class="line">       &#125;</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure>

<p>这种方式避免了使用@Import ，当使用dataSource的时候 就会去寻找DataSource的配置。</p>
<h4 id="配置延迟加载"><a href="#配置延迟加载" class="headerlink" title="配置延迟加载"></a>配置延迟加载</h4><p>被 @Bean修饰的方法，会在容器启动的时候就会实例化。@Configuration 也可以和 @Lazy搭配使用，而且单个的bean也可以和 @Lazy 搭配使用，表示@Configuration修饰的类里边所有被 @Bean 修饰的方法都会被延迟加载。</p>
<h4 id="Configuration对测试支持"><a href="#Configuration对测试支持" class="headerlink" title="@Configuration对测试支持"></a>@Configuration对测试支持</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">@RunWith(SpringRunner.class)</span><br><span class="line">@ContextConfiguration(classes = &#123;AppConfig.class, DatabaseConfig.class&#125;)</span><br><span class="line">public class MyTests &#123;</span><br><span class="line"></span><br><span class="line">    @Autowired MyBean myBean;</span><br><span class="line"></span><br><span class="line">    @Autowired DataSource dataSource;</span><br><span class="line"></span><br><span class="line">    @Test</span><br><span class="line">    public void test() &#123;</span><br><span class="line">        // assertions against myBean ...</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="Configuratione的一些约束"><a href="#Configuratione的一些约束" class="headerlink" title="@Configuratione的一些约束"></a>@Configuratione的一些约束</h4><ul>
<li>@Configuratione必须被提供作为一个类（可以子类增强）</li>
<li>@Configuratione 修饰的类 不能是final的</li>
<li>@Configuratione 不能声明在一个方法的内部</li>
<li>嵌套的 @Configuratione 必须是静态的 static</li>
</ul>
<h3 id="EnableAutoConfiguration-作用和分析"><a href="#EnableAutoConfiguration-作用和分析" class="headerlink" title="@EnableAutoConfiguration 作用和分析"></a>@EnableAutoConfiguration 作用和分析</h3><p>我们知道 @Configuration是对配置的一种抽象，而SpringBootConfiguration又是的 @Configuration一种实现，那SpringBootConfiguration肯定是对spring boot配置的特殊的抽象实现</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">@Target(ElementType.TYPE)</span><br><span class="line">@Retention(RetentionPolicy.RUNTIME)</span><br><span class="line">@Documented</span><br><span class="line">@Configuration</span><br><span class="line">public @interface SpringBootConfiguration &#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>然后我们看一下SpringBootApplication的结构：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">@Target(ElementType.TYPE)</span><br><span class="line">@Retention(RetentionPolicy.RUNTIME)</span><br><span class="line">@Documented</span><br><span class="line">@Inherited</span><br><span class="line">@SpringBootConfiguration</span><br><span class="line">@EnableAutoConfiguration</span><br><span class="line">@ComponentScan(excludeFilters = &#123;</span><br><span class="line">		@Filter(type = FilterType.CUSTOM, classes = TypeExcludeFilter.class),</span><br><span class="line">		@Filter(type = FilterType.CUSTOM, classes = AutoConfigurationExcludeFilter.class) &#125;)</span><br><span class="line">public @interface SpringBootApplication &#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>前边的四个是jdk的注解，第五个是@SpringBootConfiguration，刚刚提到了，是SpringBoot的特化配置的实现，最后是个@EnableAutoConfiguration我们看一下doc：</p>
<p>org.springframework.boot.autoconfigure @Target(ElementType.TYPE)<br>@Retention(RetentionPolicy.RUNTIME)<br><code>@Documented</code><br><code>@Inherited</code><br><code>@AutoConfigurationPackage</code><br>@Import(AutoConfigurationImportSelector.class)<br>public interface EnableAutoConfiguration<br>extends annotation.Annotation<br>Enable auto-configuration of the Spring Application Context, attempting to guess and configure beans that you are likely to need. Auto-configuration classes are usually applied based on your classpath and what beans you have defined. For example, if you have tomcat-embedded.jar on your classpath you are likely to want a TomcatServletWebServerFactory (unless you have defined your own ServletWebServerFactory bean).<br>When using SpringBootApplication, the auto-configuration of the context is automatically enabled and adding this annotation has therefore no additional effect.<br>Auto-configuration tries to be as intelligent as possible and will back-away as you define more of your own configuration. You can always manually exclude() any configuration that you never want to apply (use excludeName() if you don’t have access to them). You can also exclude them via the spring.autoconfigure.exclude property. Auto-configuration is always applied after user-defined beans have been registered.<br>The package of the class that is annotated with <code>@EnableAutoConfiguration</code>, usually via <code>@SpringBootApplication</code>, has specific significance and is often used as a ‘default’. For example, it will be used when scanning for @Entity classes. It is generally recommended that you place <code>@EnableAutoConfiguration</code> (if you’re not using <code>@SpringBootApplication</code>) in a root package so that all sub-packages and classes can be searched.<br>Auto-configuration classes are regular Spring Configuration beans. They are located using the SpringFactoriesLoader mechanism (keyed against this class). Generally auto-configuration beans are <code>@Conditional</code> beans (most often using <code>@ConditionalOnClass</code> and <code>@ConditionalOnMissingBean</code> annotations).<br>See Also:<br>ConditionalOnBean, ConditionalOnMissingBean, ConditionalOnClass, AutoConfigureAfter, SpringBootApplication</p>
<p><code>@EnableAutoConfiguration让spring</code> 的上下文的自动配置成为 可能，尝试或者猜测去配置你可能需要的bean。自动化配置往往基于classpath和你已经定义的bean去加载。<br>比如你有一个tomcat-embedded.jar在你的classpath下边，你可能想要TomcatServletWebServerFactory这个bean（除非已经定义了你自己的ServletWebServerFactory bean）。<br>当使用SpringBootApplication 自动化配置就已经开启了，再去添加<code>@EnableAutoConfiguration让spring</code>也不会有影响。<br>自动阿虎配置尽可能智能的，也可以使用 exclude()排除掉你不想加载的配置，也可以以使用spring.autoconfigure.exclude property（yml里边配置）排除掉不想加载的配置。自动化配置总是在用户已经注册好了自定义的bean才能去应用上。</p>
<p>被 <code>@EnableAutoConfiguration</code>修饰的类所在的路径，通常通过 <code>@SpringBootApplication</code>，其指定了一个签名，通常是一个默认值，通常我们将 <code>@EnableAutoConfiguration</code>修饰的类放在根路径root package下（没有使用<code>@SpringBootApplication</code>的情况下）,这样所有的包和子包都会扫描到。</p>
<p>自动配置类就是一个普通的spring 配置bean，通过SpringFactoriesLoader的机制定位的，通常自动化配置bean是一个 <code>@Conditional</code> bean<br>（大部分都是<code>@ConditionalOnClass</code> and <code>@ConditionalOnMissingBean</code>注解）</p>
<p>总之：<code>@EnableAutoConfiguration让spring</code>会完成自动化的注入。最佳实践是将<code>@EnableAutoConfiguration让spring</code>修饰的类放在root package下，对应的实现就是 <code>@SpringBootApplication</code>。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">@Target(ElementType.TYPE)</span><br><span class="line">@Retention(RetentionPolicy.RUNTIME)</span><br><span class="line">@Documented</span><br><span class="line">@Inherited</span><br><span class="line">@AutoConfigurationPackage</span><br><span class="line">@Import(AutoConfigurationImportSelector.class)</span><br><span class="line">public @interface EnableAutoConfiguration &#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="AutoConfigurationPackage"><a href="#AutoConfigurationPackage" class="headerlink" title="AutoConfigurationPackage"></a>AutoConfigurationPackage</h4><p>修饰EnableAutoConfiguration当中有一个AutoConfigurationPackage，意味着被AutoConfigurationPackage注解的类所在的包应该注册到AutoConfigurationPackages里边去。</p>
<h4 id="ComponentScan-组件扫描"><a href="#ComponentScan-组件扫描" class="headerlink" title="@ComponentScan 组件扫描"></a>@ComponentScan 组件扫描</h4><p>修饰SpringBootApplication的最后一个注解ComponentScan；</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">@Retention(RetentionPolicy.RUNTIME)</span><br><span class="line">@Target(ElementType.TYPE)</span><br><span class="line">@Documented</span><br><span class="line">@Repeatable(ComponentScans.class)</span><br><span class="line">public @interface ComponentScan</span><br></pre></td></tr></table></figure>

<p>配置组件扫描的指令，通常用于Configuration类，提供了使用 Spring XML（<a href="context:component-scan" target="_blank" rel="noopener">context:component-scan</a>）也可以通过basePackageClasses或者basePackages指定特定的包去扫描。如果定义的package不存在，默认就会从@ComponentScan注解的类所在的package去扫描。</p>
<p>注意<a href="context:component-scan" target="_blank" rel="noopener">context:component-scan</a>有一个annotation-config属性，但是@ComponentScan注解没有</p>
<h3 id="SpringApplication"><a href="#SpringApplication" class="headerlink" title="SpringApplication"></a>SpringApplication</h3><p>SpringApplicatio用来在main方法里边启动和引导spring 应用，默认会执行一下的步骤：</p>
<ul>
<li>创建一个合适的SpringApplication实例(在classpath下面)</li>
<li>注册CommandLinePropertySource来暴露命令行参数作为 Spring properties</li>
<li>刷新application context，加载所有单利的bean</li>
<li>触发CommandLineRunner bean</li>
</ul>
<p>默认静态的main方法里边启动应用。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">@Configuration</span><br><span class="line">@EnableAutoConfiguration</span><br><span class="line">public class MyApplication  &#123;</span><br><span class="line"></span><br><span class="line">  // ... Bean definitions</span><br><span class="line"></span><br><span class="line">  public static void main(String[] args) &#123;</span><br><span class="line">    SpringApplication.run(MyApplication.class, args);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>对于更加高级的配置，SpringApplication实例可以在启动之前做一些定制化。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">public static void main(String[] args) &#123;</span><br><span class="line">  SpringApplication application = new SpringApplication(MyApplication.class);</span><br><span class="line">  // ... customize application settings here</span><br><span class="line">  application.run(args)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>SpringApplication可以从不同的源读取bean，通常推荐一个单个的 @Configuration 用于启动你的应用，然后你可以设置源从以下方面：</p>
<ul>
<li>完全限定的类名通过 AnnotatedBeanDefinitionReader加载。</li>
<li>本地的xml资源，通过 XmlBeanDefinitionReader加载 或者通过groovy 脚本，通过GroovyBeanDefinitionReader加载。</li>
<li>包名扫描通过 ClassPathBeanDefinitionScanner</li>
</ul>

    </div>

    
    
    
        

<div>
<ul class="post-copyright">
  <li class="post-copyright-author">
    <strong>Post author:  </strong>CeaserWang
  </li>
  <li class="post-copyright-link">
    <strong>Post link: </strong>
    <a href="https://ceaser.wang/2019/06/23/spring_boot_and_cloud/spring_boot_cloud(4)SpringBootApplication与Configuration注解深度解析/" title="spring_boot_cloud(4)SpringBootApplication与Configuration注解深度解析">https://ceaser.wang/2019/06/23/spring_boot_and_cloud/spring_boot_cloud(4)SpringBootApplication与Configuration注解深度解析/</a>
  </li>
  <li class="post-copyright-license">
    <strong>Copyright Notice:  </strong>All articles in this blog are licensed under <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" rel="noopener" target="_blank"><i class="fab fa-fw fa-creative-commons"></i>BY-NC-SA</a> unless stating additionally.
  </li>
</ul>
</div>


      <footer class="post-footer">
          
          <div class="post-tags">
              <a href="/tags/SpringBootApplication/" rel="tag"><i class="fa fa-tag"></i> SpringBootApplication</a>
          </div>

        


        
    <div class="post-nav">
      <div class="post-nav-item">
    <a href="/2019/06/08/spring_boot_and_cloud/spring_boot_cloud(3)JDWP远程调试详解以及调试spring-boot-loader的启动与加载全流程/" rel="prev" title="spring_boot_cloud(3)JDWP远程调试详解以及调试spring-boot-loader的启动与加载全流程">
      <i class="fa fa-chevron-left"></i> spring_boot_cloud(3)JDWP远程调试详解以及调试spring-boot-loader的启动与加载全流程
    </a></div>
      <div class="post-nav-item">
    <a href="/2019/06/30/spring_boot_and_cloud/spring_boot_cloud(5)SpringApplication源码分析与作用详解/" rel="next" title="spring_boot_cloud(5)SpringApplication源码分析与作用详解">
      spring_boot_cloud(5)SpringApplication源码分析与作用详解 <i class="fa fa-chevron-right"></i>
    </a></div>
    </div>
      </footer>
    
  </article>
  
  
  



          </div>
          
    <div class="comments" id="valine-comments"></div>

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-3"><a class="nav-link" href="#SpringBootApplication"><span class="nav-number">1.</span> <span class="nav-text">@SpringBootApplication</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#SpringBootConfiguration"><span class="nav-number">1.1.</span> <span class="nav-text">@SpringBootConfiguration</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#引导-Configuration-类："><span class="nav-number">2.</span> <span class="nav-text">引导 @Configuration 类：</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#通过XML的方式："><span class="nav-number">2.1.</span> <span class="nav-text">通过XML的方式：</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#通过组件扫描的方式："><span class="nav-number">2.2.</span> <span class="nav-text">通过组件扫描的方式：</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#通过ComponentScan的方式："><span class="nav-number">2.3.</span> <span class="nav-text">通过ComponentScan的方式：</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#通过环境API："><span class="nav-number">2.4.</span> <span class="nav-text">通过环境API：</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#通过-Value-annotation"><span class="nav-number">2.5.</span> <span class="nav-text">通过 @Value annotation</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#组合Configuration"><span class="nav-number">2.6.</span> <span class="nav-text">组合Configuration</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#使用-Profile-注解"><span class="nav-number">2.7.</span> <span class="nav-text">使用@Profile 注解</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#使用-ImportResource-annotation-加载spring-xml配置文件"><span class="nav-number">2.8.</span> <span class="nav-text">使用 @ImportResource annotation 加载spring xml配置文件</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#嵌套的-Configuration-classes"><span class="nav-number">2.9.</span> <span class="nav-text">嵌套的@Configuration classes</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#配置延迟加载"><span class="nav-number">2.10.</span> <span class="nav-text">配置延迟加载</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Configuration对测试支持"><span class="nav-number">2.11.</span> <span class="nav-text">@Configuration对测试支持</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Configuratione的一些约束"><span class="nav-number">2.12.</span> <span class="nav-text">@Configuratione的一些约束</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#EnableAutoConfiguration-作用和分析"><span class="nav-number">3.</span> <span class="nav-text">@EnableAutoConfiguration 作用和分析</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#AutoConfigurationPackage"><span class="nav-number">3.1.</span> <span class="nav-text">AutoConfigurationPackage</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#ComponentScan-组件扫描"><span class="nav-number">3.2.</span> <span class="nav-text">@ComponentScan 组件扫描</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#SpringApplication"><span class="nav-number">4.</span> <span class="nav-text">SpringApplication</span></a></li></ol></div>
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="CeaserWang"
      src="/../0xcc/index/Uchiha.jpg">
  <p class="site-author-name" itemprop="name">CeaserWang</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">211</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">24</span>
        <span class="site-state-item-name">categories</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">205</span>
        <span class="site-state-item-name">tags</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
        <a href="https://github.com/1156721874" title="GitHub → https://github.com/1156721874" rel="noopener" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="mailto:ceaserwang@outlook.com" title="E-Mail → mailto:ceaserwang@outlook.com" rel="noopener" target="_blank"><i class="fa fa-envelope fa-fw"></i>E-Mail</a>
      </span>
  </div>


  <div class="links-of-blogroll motion-element">
    <div class="links-of-blogroll-title"><i class="fa fa-link fa-fw"></i>
      Links
    </div>
    <ul class="links-of-blogroll-list">
        <li class="links-of-blogroll-item">
          <a href="https://twodragonlake.com" title="https://twodragonlake.com" rel="noopener" target="_blank">TwoDragonLake</a>
        </li>
        <li class="links-of-blogroll-item">
          <a href="https://rootcluster.github.io" title="https://rootcluster.github.io" rel="noopener" target="_blank">RootCluster</a>
        </li>
        <li class="links-of-blogroll-item">
          <a href="https://museflow.io" title="https://museflow.io" rel="noopener" target="_blank">MuseFlow</a>
        </li>
        <li class="links-of-blogroll-item">
          <a href="https://incoder.org" title="https://incoder.org" rel="noopener" target="_blank">BladeCode</a>
        </li>
        <li class="links-of-blogroll-item">
          <a href="https://kaifa.dev" title="https://kaifa.dev" rel="noopener" target="_blank">Alyenc</a>
        </li>
        <li class="links-of-blogroll-item">
          <a href="https://blog.dazhidayong.cn" title="https://blog.dazhidayong.cn" rel="noopener" target="_blank">Killua</a>
        </li>
        <li class="links-of-blogroll-item">
          <a href="https://jocelynshang.cn/" title="https://jocelynshang.cn/" rel="noopener" target="_blank">Jocelyn</a>
        </li>
    </ul>
  </div>

      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 2015 – 
  <span itemprop="copyrightYear">2021</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">CeaserWang</span>
</div>
  <div class="powered-by">Powered by <a href="https://hexo.io" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://muse.theme-next.org" class="theme-link" rel="noopener" target="_blank">NexT.Muse</a>
  </div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="//cdn.jsdelivr.net/npm/medium-zoom@1/dist/medium-zoom.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>
<script src="/js/utils.js"></script><script src="/js/motion.js"></script>
<script src="/js/schemes/muse.js"></script>
<script src="/js/next-boot.js"></script>



  




  <script src="/js/local-search.js"></script>












  

  


<script>
NexT.utils.loadComments(document.querySelector('#valine-comments'), () => {
  NexT.utils.getScript('//unpkg.com/valine/dist/Valine.min.js', () => {
    var GUEST = ['nick', 'mail', 'link'];
    var guest = 'nick,mail';
    guest = guest.split(',').filter(item => {
      return GUEST.includes(item);
    });
    new Valine({
      el         : '#valine-comments',
      verify     : false,
      notify     : false,
      appId      : 'ryAR9bttS7fex1FPEPAylmmJ-gzGzoHsz',
      appKey     : 'dYqygoN4Y01Bl38OdRoCHUYn',
      placeholder: "Just go go",
      avatar     : 'mm',
      meta       : guest,
      pageSize   : '10' || 10,
      visitor    : true,
      lang       : '' || 'zh-cn',
      path       : location.pathname,
      recordIP   : true,
      serverURLs : ''
    });
  }, window.Valine);
});
</script>

</body>
</html>
